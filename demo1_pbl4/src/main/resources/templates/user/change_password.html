<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Change password</title>
    <!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"-->
    <!--          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">-->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <style>
    </style>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <h1 class="text-center">Change Your Password Now</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-sm-offset-3" style="border: 3px solid brown ">
            <form th:action="@{/users/change_password}" method="post" id="passwordForm">
                <label>Current Password</label>
                <div class="form-group">
                    <input type="password" class="form-control pass_show"
                           name="currentPass" placeholder="Current Password" required>
                    <span class="text text-danger" th:if="${message}" th:text="${message}"></span>
                </div>

                <label>New Password</label>
                <div class="form-group">
                    <input type="password" class="input-lg form-control pass_show" name="newPass" id="password1"
                           placeholder="New Password" autocomplete="off">
                    <!--                    <div class="row">-->
                    <!--                        <div class="col-sm-6">-->
                    <!--                            <span id="8char" class="glyphicon glyphicon-remove" style="color:#FF0004;"></span> 8-->
                    <!--                            Characters Long<br>-->
                    <!--                            <span id="ucase" class="glyphicon glyphicon-remove" style="color:#FF0004;"></span> One-->
                    <!--                            Uppercase Letter-->
                    <!--                        </div>-->
                    <!--                        <div class="col-sm-6">-->
                    <!--                            <span id="lcase" class="glyphicon glyphicon-remove" style="color:#FF0004;"></span> One-->
                    <!--                            Lowercase Letter<br>-->
                    <!--                            <span id="num" class="glyphicon glyphicon-remove" style="color:#FF0004;"></span> One Number-->
                    <!--                        </div>-->
                    <!--                    </div>-->
                </div>
                <label>Confirm Password</label>
                <div class="form-group">
                    <input type="password" class="input-lg form-control pass_show" name="confirmPass" id="password2"
                           placeholder="Repeat Password" autocomplete="off">
                    <div class="row">
                        <div class="col-sm-12">
                            <span id="pwmatch" class="glyphicon glyphicon-remove" style="color:#FF0004;"></span>
                            Passwords Match
                        </div>
                    </div>
                </div>
                <input id="submit_btn" type="submit" class="col-xs-12 btn btn-primary btn-load btn-lg"
                       data-loading-text="Changing Password..." value="Change Password">
            </form>
            <p class="text-center"><a th:href="@{/}">Back to home</a></p>
        </div><!--/col-sm-6-->
    </div><!--/row-->
</div>


<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
<script>
    // form 2:
    window.onload = function () {
        document.getElementById("submit_btn").disabled = true;
    }
    $("input[name=newPass],input[name=confirmPass]").keyup(function () {
        // var ucase = new RegExp("[A-Z]+");
        // var lcase = new RegExp("[a-z]+");
        // var num = new RegExp("[0-9]+");
        //
        // if ($("#password1").val().length >= 8) {
        //     $("#8char").removeClass("glyphicon-remove");
        //     $("#8char").addClass("glyphicon-ok");
        //     $("#8char").css("color", "#00A41E");
        //     $("#submit_btn").disabled=false;
        // } else {
        //     $("#8char").removeClass("glyphicon-ok");
        //     $("#8char").addClass("glyphicon-remove");
        //     $("#8char").css("color", "#FF0004");
        //     document.getElementById("submit_btn").disabled=true;
        //     $("#submit_btn").disabled=true;
        // }
        //
        // if (ucase.test($("#password1").val())) {
        //     $("#ucase").removeClass("glyphicon-remove");
        //     $("#ucase").addClass("glyphicon-ok");
        //     $("#ucase").css("color", "#00A41E");
        //     $("#submit_btn").disabled=false;
        // } else {
        //     $("#ucase").removeClass("glyphicon-ok");
        //     $("#ucase").addClass("glyphicon-remove");
        //     $("#ucase").css("color", "#FF0004");
        //     document.getElementById("submit_btn").disabled=true;
        //     $("#submit_btn").disabled=true;
        // }
        //
        // if (lcase.test($("#password1").val())) {
        //     $("#lcase").removeClass("glyphicon-remove");
        //     $("#lcase").addClass("glyphicon-ok");
        //     $("#lcase").css("color", "#00A41E");
        //     document.getElementById("submit_btn").disabled=true;
        //     $("#submit_btn").disabled=false;
        // } else {
        //     $("#lcase").removeClass("glyphicon-ok");
        //     $("#lcase").addClass("glyphicon-remove");
        //     $("#lcase").css("color", "#FF0004");
        //     document.getElementById("submit_btn").disabled=true;
        //     $("#submit_btn").disabled=true;
        // }
        //
        // if (num.test($("#password1").val())) {
        //     $("#num").removeClass("glyphicon-remove");
        //     $("#num").addClass("glyphicon-ok");
        //     $("#num").css("color", "#00A41E");
        //     $("#submit_btn").disabled=false;
        // } else {
        //     $("#num").removeClass("glyphicon-ok");
        //     $("#num").addClass("glyphicon-remove");
        //     $("#num").css("color", "#FF0004");
        //     document.getElementById("submit_btn").disabled=true;
        //     $("#submit_btn").disabled=true;
        // }
        if ($("#password1").val() == $("#password2").val()) {
            $("#pwmatch").removeClass("glyphicon-remove");
            $("#pwmatch").addClass("glyphicon-ok");
            $("#pwmatch").css("color", "#00A41E");
            // $("#submit_btn").disabled=false;
            document.getElementById("submit_btn").disabled = false;
        } else {
            $("#pwmatch").removeClass("glyphicon-ok");
            $("#pwmatch").addClass("glyphicon-remove");
            $("#pwmatch").css("color", "#FF0004");
            document.getElementById("submit_btn").disabled = true;
            // $("#submit_btn").disabled=true;
        }
    });
</script>
</body>
</html>